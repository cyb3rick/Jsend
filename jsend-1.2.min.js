(function(e,d){function f(){function e(a,c,g){var d="",d="timeout"===c||"timeout"===g?"Timeout error.":0===a.status?"Can't connect. Verify network.":403===a.status?"URL Forbidden [403].":404===a.status?"URL Not Found [404].":500===a.status?"Internal Server Error [500].":"parsererror"===c?"Requested JSON parse failed.":"abort"===c?"Ajax request aborted.":g.message?g.message+".":"Uncaught Error. "+a.responseText+" ["+a.status+"].";throw Error("A JSend HTTP error occurred: "+d);}function i(b,c,d){j("stop");
if(b&&b.hasOwnProperty("status"))switch(a.status=b.status,a.jsendResponse=b,b.status){case n:a.onSuccess.apply(a,[b.data,d]);break;case o:a.onFail.apply(a,[b.data,d]);break;case p:a.onError.apply(a,[b.message,d])}else throw Error("Invalid JSend format: the body should always contain a status property");}function j(b){switch(b){case "start":k=(new Date).getMilliseconds();break;case "stop":l=(new Date).getMilliseconds();a.elapsedTime=l-k+"ms";break;default:throw Error("_trackRequest only accepts a `start` or `stop` phase");
}}if(!d)throw Error("jQuery could be not detected. JSend requires jQuery to handle all requests.");var a=this instanceof f?this:new f,h=arguments,m={},k=0,l=0,n="success",o="fail",p="error";a.status=null;a.jsendResponse=null;a.processing=!1;a.elapsedTime=0;a.config={crossDomain:!1,data:{},type:"GET",url:"xhr.php"};a.onSuccess=d.noop;a.onError=d.noop;a.onFail=d.noop;a.setup=function(b){a.config=d.extend(!0,a.config,b);return a};a.success=function(b){a.onSuccess=b;return a};a.fail=function(b){a.onFail=
b;return a};a.error=function(b){a.onError=b;return a};a.dispatch=function(){a.xhr();return a};a.xhr=function(b){var c=a.config;b&&(c=d.extend(!0,a.config,b),"success"in c&&(a.onSuccess=c.success),"fail"in c&&(a.onFail=c.fail),"error"in c&&(a.onError=c.error),c.error=e,c.success=i);c.dataType="json";d.ajax(d.extend(!0,c,m));return a};a.get=function(b,c,d){a.config.type="GET";a.config.data=c;a.config.url=b;a.onSuccess=d;a.xhr();return a};a.post=function(b,c,d){a.config.type="POST";a.config.url=b;a.config.data=
c;a.onSuccess=d;a.xhr();return a};(function(){h.length&&h[0].constructor===Object&&a.xhr(h[0]);m={success:i,error:e,beforeSend:function(){j("start");a.processing=!0},complete:function(){a.processing=!1}}})();return a}e.JSend=e.Jsend=f;e.J$=new f})(window,window.jQuery||null);
